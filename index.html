<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>–§–æ—Ä–º–∞ Telegram</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    body { font-family: sans-serif; text-align: center; padding: 2em; }
    input, button { padding: 10px; margin-top: 1em; width: 80%; font-size: 16px; }
  </style>
</head>
<body>
  <h2>–ì—Ä–∞—î—à –õ–í–ö? –∑—ñ —Å–∫—ñ–ª—å–∫–æ—Ö –∞–∫–∫—ñ–≤?</h2>
  <input type="text" id="answer" placeholder="–ù–∞–ø–∏—à–∏ —Ç—É—Ç..." />
  <br>
  <button onclick="sendAnswer()">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏</button>

<script>
  function sendAnswer() {
    const input = document.getElementById("answer");
    const answer = input.value;

    if (!answer) {
      alert("–ë—É–¥—å –ª–∞—Å–∫–∞, –≤–≤–µ–¥—ñ—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥—å.");
      return;
    }

    // üîÅ –°—é–¥–∏ –≤—Å—Ç–∞–≤–ª—è—î—à —Å–≤–æ—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ WebApp
    const scriptURL = "https://script.google.com/macros/s/AKfycbx2ivoTT2wxI7lkLMy0ubXNg8Ur-JEWo_4hkzGvmwvwADMDjbR5ZSwjmK5f5fT7CmFv/exec";

    fetch(scriptURL, {
      method: "POST",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify({ answer: answer })
    })
    .then(response => response.text())
    .then(data => {
      console.log("–í—ñ–¥–ø–æ–≤—ñ–¥—å –≤—ñ–¥ —Å–µ—Ä–≤–µ—Ä–∞:", data);
      alert("‚úÖ –î—è–∫—É—î–º–æ! –í–∞—à–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞–¥—ñ—Å–ª–∞–Ω–∞.");
      input.value = "";
    })
    .catch(error => {
      console.error("‚ùå –ü–æ–º–∏–ª–∫–∞:", error);
      alert("‚ö†Ô∏è –í–∏–Ω–∏–∫–ª–∞ –ø–æ–º–∏–ª–∫–∞ –ø—ñ–¥ —á–∞—Å –Ω–∞–¥—Å–∏–ª–∞–Ω–Ω—è.");
    });
  }
</script>

</body>
</html>
